graph TD
    subgraph "ENTRADA"
        A[ðŸ“¹ CÃ¢mera/VÃ­deo] --> B[Captura Frame]
        B --> C[PrÃ©-processamento<br/>Resize + NormalizaÃ§Ã£o]
    end
    
    subgraph "BUFFER"
        C --> D[Buffer Sequencial<br/>Ãšltimos 10 frames]
        D --> E[SequÃªncia Temporal<br/>Shape: 10 x 224 x 224]
    end
    
    subgraph "MODELOS"
        E --> F[ðŸ§  CAE Encoder<br/>ExtraÃ§Ã£o Features]
        F --> G[Features Compactas<br/>RepresentaÃ§Ã£o Latente]
        G --> H[ðŸ”„ ConvLSTM<br/>AnÃ¡lise Temporal]
        H --> I[Score Anomalia<br/>Erro ReconstruÃ§Ã£o]
    end
    
    subgraph "DECISÃƒO"
        I --> J{Score > Threshold?}
        J -->|Sim| K[âš ï¸ ANOMALIA]
        J -->|NÃ£o| L[âœ… NORMAL]
    end
    
    subgraph "AÃ‡Ã•ES"
        K --> M[ðŸ“¸ Screenshot]
        K --> N[ðŸŽ¥ GravaÃ§Ã£o VÃ­deo]
        K --> O[ðŸ’¾ Salvar BD]
        K --> P{Email Ativo?}
        P -->|Sim| Q[ðŸ“§ Enviar Alerta]
        P -->|NÃ£o| R[ðŸ“‹ Log Apenas]
    end
    
    subgraph "LOOP"
        L --> S[PrÃ³ximo Frame]
        Q --> S
        R --> S
        S --> B
    end
    
    style A fill:#e8f5e8
    style K fill:#ffebee
    style L fill:#e8f5e8
    style F fill:#f3e5f5
    style H fill:#e1f5fe